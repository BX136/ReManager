@model ResManager.DAO.WebModel.BaoCaoDoanhThu

@{
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
}

@section cssSection{
    <!-- DataTables -->
    <link rel="stylesheet" href="~/Scripts/plugins/datatables-bs4/css/dataTables.bootstrap4.min.css">
    <link rel="stylesheet" href="~/Scripts/plugins/datatables-responsive/css/responsive.bootstrap4.min.css">
}

<div class="row">
    <div class="col-12 col-sm-6 col-md-4">
        <div class="info-box">
            <span class="info-box-icon bg-info elevation-1"><i class="fas fa-concierge-bell"></i></span>

            <div class="info-box-content">
                <span class="info-box-text">Doanh số</span>
                <span class="info-box-number">
                    @Model.DoanhSo
                    <small>Lượt đã phục vụ</small>
                </span>
            </div>
            <!-- /.info-box-content -->
        </div>
        <!-- /.info-box -->
    </div>

    <div class="col-12 col-sm-6 col-md-4">
        <div class="info-box">
            <span class="info-box-icon bg-success elevation-1"><i class="fas fa-dollar-sign"></i></span>

            <div class="info-box-content">
                <span class="info-box-text">Tổng thu</span>
                <span class="info-box-number">
                    @Model.TongThu.Value.ToString("#,##0")
                    <small>Đồng</small>
                </span>
            </div>
            <!-- /.info-box-content -->
        </div>
        <!-- /.info-box -->
    </div>

    <div class="col-12 col-sm-6 col-md-4">
        <div class="info-box">
            <span class="info-box-icon bg-warning elevation-1"><i class="fas fa-credit-card"></i></span>

            <div class="info-box-content">
                <span class="info-box-text">Tổng dư nợ</span>
                <span class="info-box-number">
                    @Model.TongDuNo.Value.ToString("#,##0")
                    <small>Đồng</small>
                </span>
            </div>
            <!-- /.info-box-content -->
        </div>
        <!-- /.info-box -->
    </div>
</div>

<div class="card">
    <div class="card-header">
        <h5 class="card-title m-0">Báo cáo doanh thu</h5>
    </div>
    <div class="card-body">



        <table id="example1" class="table table-bordered table-striped">
            <thead>
                <tr>
                    <th>
                        Ngày
                    </th>
                    <th>
                        Doanh Số
                    </th>
                    <th>
                        Tổng Thu
                    </th>
                    <th>
                        Dư Nợ
                    </th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model.baoCaoHoaDon)
                {
                    <tr>
                        <td>
                            @item.Ngay.Value.ToString("dd/MM/yyyy")
                        </td>
                        <td>
                            @item.DoanhSo.Value.ToString("#,##0")
                        </td>
                        <td>
                            @item.TongThu.Value.ToString("#,##0")
                        </td>
                        <td>
                            @item.TongDuNo.Value.ToString("#,##0")
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>

@section dataSection
{
    <!-- DataTables -->
    <script src="~/Scripts/plugins/datatables/jquery.dataTables.min.js"></script>
    <script src="~/Scripts/plugins/datatables-bs4/js/dataTables.bootstrap4.min.js"></script>
    <script src="~/Scripts/plugins/datatables-responsive/js/dataTables.responsive.min.js"></script>
    <script src="~/Scripts/plugins/datatables-responsive/js/responsive.bootstrap4.min.js"></script>
    <!-- \DataTables -->
    <script>
        $(function () {
            $("#example1").DataTable({
                "responsive": true,
                "autoWidth": false,
            });
            $('#example2').DataTable({
                "paging": true,
                "lengthChange": false,
                "searching": false,
                "ordering": true,
                "info": true,
                "autoWidth": false,
                "responsive": true,
            });
        });

        const formatter = new Intl.NumberFormat('en-US', {
            style: 'currency',
            currency: 'VND',
            minimumFractionDigits: 2
        })
    </script>

}
